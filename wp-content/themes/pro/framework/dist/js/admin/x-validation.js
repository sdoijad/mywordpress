(()=>{var I=Object.create;var D=Object.defineProperty;var Q=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,X=Object.prototype.hasOwnProperty;var P=o=>D(o,"__esModule",{value:!0});var z=(o,i)=>()=>(i||o((i={exports:{}}).exports,i),i.exports);var J=(o,i,e,n)=>{if(i&&typeof i=="object"||typeof i=="function")for(let t of F(i))!X.call(o,t)&&(e||t!=="default")&&D(o,t,{get:()=>i[t],enumerable:!(n=Q(i,t))||n.enumerable});return o},q=(o,i)=>J(P(D(o!=null?I(O(o)):{},"default",!i&&o&&o.__esModule?{get:()=>o.default,enumerable:!0}:{value:o,enumerable:!0})),o);var E=z((W,N)=>{N.exports=window.jQuery});var R=q(E());var m=q(E()),p={};(function(){var o={strings:{},logo:""},i={};p.addModule=function(t,a){e(t,"callback",a)},p.addDataSource=function(t){if(!!t.modules)for(var a in t.modules)e(a,"data",t.modules[a])},p.setup=t=>{o=t},p.l18n=function(t){return o.strings&&o.strings[t]||""},p.logo=function(){return o.logo||""};function e(t,a,c){i[t]||(i[t]={}),i[t][a]=c}(0,m.default)(function(){(0,m.default)("[data-tco-module]").each(function(){var t=(0,m.default)(this),a=t.data("tco-module");if(i[a]&&typeof i[a].callback=="function"){var c={};m.default.extend(t,n(t)),t.find("[data-tco-module-target]").each(function(){var l=(0,m.default)(this);c[l.data("tco-module-target")]=l});var u=i[a].data||{};i[a].callback.call(this,t,c,u)}})});function n(t){var a=t.find(".tco-status-text");if(!a.length)return{};var c=t.find("[data-tco-module-processor]");c=c.length?c:t;var u=a.clone();a.after(u);var l,v,x,f,s=650,g=!0,r=a,_=u;function y(){}var M=!0,S=y;function U(){g=!g,r=g?a:u,_=g?u:a}function T(h,C){if(!M){S=function(){T(h,C)};return}if(clearTimeout(l),!h||!Number.isInteger(h))return j(C);l=setTimeout(function(){j(C)},h)}function j(h){r.removeClass("tco-active"),_.html(""),clearTimeout(v),v=setTimeout(function(){c.removeClass("tco-processing"),typeof h=="function"&&h()},s)}function B(h,C,k,b){if(!M){S=function(){B(h,C,k,b)};return}clearTimeout(l),clearTimeout(v),c.hasClass("tco-processing")?(_.html(h),b&&b.length&&_.append(b),r.removeClass("tco-active"),U(),A(C,k)):(r.html(h),b&&b.length&&r.append(b),c.addClass("tco-processing"),A(C,k))}function A(h,C){M=!1,clearTimeout(x),x=setTimeout(function(){r.addClass("tco-active"),h&&Number.isInteger(h)&&T(h,C),clearTimeout(f),f=setTimeout(function(){M=!0,S(),S=y},s)},s)}return{tcoShowMessage:B,tcoRemoveMessage:T,tcoShowErrorMessage:function(h,C,k){B(h,!1,k,p.makeErrorDelegate({message:C}))}}}})();(function(){p.ajax=function(o){var i=typeof o.done=="function"?o.done:function(){},e=typeof o.fail=="function"?o.fail:function(){};delete o.done,delete o.fail,window.wp.ajax.post(o).done(i).fail(function(n){if(typeof n=="string"){var t=n.match(/{"success":\w*?,"data.*/),a={};try{a=JSON.parse(t[0])}catch{}if(a.data){if(a.success===!0){console.warn("TCO AJAX recovered from malformed success response: ",n),i(a.data);return}if(a.success===!1){console.warn("TCO AJAX recovered from malformed error response: ",n),e(a.data);return}}}e(n)})}})();(function(){var o='<div class="tco-modal-outer"><div class="tco-modal-inner"><div class="tco-confirm"><div class="tco-confirm-text"></div><div class="tco-confirm-actions"></div></div></div></div>',i={accept:null,decline:null,message:"",class:"",acceptBtn:p.l18n("yep"),declineBtn:p.l18n("nope"),acceptClass:"",declineClass:"",attach:!0,detach:!1};p.confirm=function(e){var n=m.default.extend({},i,e),t=(0,m.default)(o);if(t.find(".tco-confirm-text").html(n.message),n.class&&t.find(".tco-confirm").addClass(n.class),n.acceptBtn&&n.acceptBtn!==""){var a=(0,m.default)('<button class="tco-btn">'+n.acceptBtn+"</button>");n.acceptClass&&a.addClass(n.acceptClass),t.find(".tco-confirm-actions").append(a),a.on("click",function(){u.call(this,"accept")})}if(n.declineBtn&&n.declineBtn!==""){var c=(0,m.default)('<button class="tco-btn">'+n.declineBtn+"</button>");n.declineClass&&c.addClass(n.declineClass),t.find(".tco-confirm-actions").append(c),c.on("click",function(){u.call(this,"decline")})}function u(x){var f=n[x];if(typeof f=="function")f();else{var s=f,g=!1;if(typeof s=="object"&&s!==null&&(g=s.newTab===!0,s=s.url||null),typeof s=="string")if(g){var r=window.open(s,"_blank");r&&r.focus()}else window.location=s}v()}function l(){(0,m.default)("body").append(t),setTimeout(function(){t.addClass("tco-active")},0)}function v(){t.removeClass("tco-active"),setTimeout(function(){t[n.detach?"detach":"remove"]()},650)}return n.attach&&l(),t}})();(function(){p.showNotice=function(o){typeof o=="string"&&(o={message:o});var i={message:"",dismissible:!0,...o},e='<div class="tco-notice notice"><a class="tco-notice-logo" href="https://theme.co/" target="_blank">'+p.logo()+"</a><p></p></div>",n=(0,m.default)(".tco-content .wrap").first();if(!n.length){console.warn("tco.showNotice requires the WordPress wrap div.");return}var t=(0,m.default)(e);if(t.find("p").first().html(i.message),i.dismissible){t.addClass("is-dismissible");var a=(0,m.default)('<button type="button" class="notice-dismiss"><span class="screen-reader-text"></span></button>');a.find(".screen-reader-text").text(""),a.on("click.wp-dismiss-notice",function(c){c.preventDefault(),t.fadeTo(100,0,function(){t.slideUp(100,function(){t.remove()})})}),t.append(a)}return n.append(t),t}})();(function(){p.makeErrorDelegate=function(o){var i={details:p.l18n("details"),message:"",back:p.l18n("back"),backClass:"",...o},e=(0,m.default)("<a> "+i.details+"</a>");return e.on("click",function(){p.confirm({message:i.message,acceptBtn:"",declineBtn:i.back,declineClass:i.backClass,class:"tco-confirm-error"})}),e}})();(0,m.default)(function(){(0,m.default)('a[href="#"]').on("click",function(o){o.preventDefault()}),(0,m.default)("[data-tco-toggle]").on("click",function(o){o.preventDefault();var i=(0,m.default)(this),e=i.data("tco-toggle");(0,m.default)(e).toggleClass("tco-active")}),(0,m.default)(".tco-accordion-toggle").on("click",function(){if((0,m.default)(this).hasClass("tco-active")){(0,m.default)(this).removeClass("tco-active").next().slideUp();return}(0,m.default)(".tco-accordion-panel").slideUp(),(0,m.default)(this).siblings().removeClass("tco-active"),(0,m.default)(this).addClass("tco-active").next().slideDown()})});(function(){var o={},i=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})};o.extract=function(e){return e.split("?")[1]||""},o.parse=function(e){return typeof e!="string"?{}:(e=e.trim().replace(/^(\?|#|&)/,""),e?e.split("&").reduce(function(n,t){var a=t.replace(/\+/g," ").split("="),c=a.shift(),u=a.length>0?a.join("="):void 0;return c=decodeURIComponent(c),u=u===void 0?null:decodeURIComponent(u),n.hasOwnProperty(c)?Array.isArray(n[c])?n[c].push(u):n[c]=[n[c],u]:n[c]=u,n},{}):{})},o.stringify=function(e){return e?Object.keys(e).sort().map(function(n){var t=e[n];return t===void 0?"":t===null?n:Array.isArray(t)?t.slice().sort().map(function(a){return i(n)+"="+i(a)}).join("&"):i(n)+"="+i(t)}).filter(function(n){return n.length>0}).join("&"):""},p.queryString=o})();var d=p;var w=window.xValidationData;d.setup(w.tco);d.addDataSource(w);(function(){if(!(!w.modules||!w.notices))for(var o in w.modules){var i=w.modules[o];if(i.notices)for(var e in i.notices)w.notices.indexOf(e)!==-1&&d.showNotice(i.notices[e])}})();d.addModule("x-auto-configure-cornerstone",function(o,i,e){var n=o.data("tco-module-state");n==="install"&&t(),n==="activate"&&a();function t(){d.ajax({_x_nonce:w._x_nonce,action:"x_auto_install_cornerstone",done:function(l){a(function(){u(l)})},fail:c})}function a(l){d.ajax({_x_nonce:w._x_nonce,action:"x_auto_activate_cornerstone",done:typeof l=="function"?l:u,fail:c})}function c(l){if(!l||!l.message){var v={message:e.errors[n]||e.errors.install};l.status&&l.statusText&&(v.errorDetails=l.status+" "+l.statusText),l=v}u(l)}function u(l){if(!!l){if(l.message)var v=d.showNotice(l.message);v&&l.errorDetails&&v.find("[data-tco-error-details]").on("click",function(x){x.preventDefault(),d.confirm({message:l.errorDetails,acceptBtn:"",declineBtn:e.errorBack,class:"tco-confirm-error"})})}}});d.addModule("x-validation",function(o,i,e){let n=i.message||!1,t=i.button||!1,a=i.overlay||!1,c=i.input||!1,u=i.form||!1,l=i["preload-key"]||!1;if(!n||!t||!a||!c||!u||!l)return;u.on("submit",function(r){r.preventDefault(),c.prop("disabled",!0),o.tcoShowMessage(e.verifying),d.ajax({_x_nonce:w._x_nonce,action:"x_validation",code:c.val(),done:x,fail:g})});var v=l.val();typeof v=="string"&&v.length>1&&(c.val(v),u.submit());function x(r){if(!r.message)return g(r);r.complete?(o.tcoShowMessage(r.message),setTimeout(s,2500)):f(r)}function f(r){n.html(r.message),t.html(r.button);var _=650;setTimeout(function(){o.tcoShowMessage("")},_*2),setTimeout(function(){a.addClass("tco-active")},_*3),r.url?(t.attr("href",r.url),r.newTab&&t.attr("target","_blank")):t.attr("href","#"),t.off("click"),r.dismiss&&t.on("click",function(){a.removeClass("tco-active"),o.tcoRemoveMessage(),setTimeout(function(){c.val("").prop("disabled",!1)},_*2)})}function s(){var r=d.queryString.parse(window.location.search);delete r["tco-key"],r.notice="validation-complete",window.location.search=d.queryString.stringify(r)}function g(r){var _=r.message?r.message:r;_.responseText&&(_=_.responseText),f({message:e.error,button:e.errorButton,dismiss:!0}),n.find("[data-tco-error-details]").on("click",function(y){y.preventDefault(),d.confirm({message:_,acceptBtn:"",declineBtn:e.errorButton,class:"tco-confirm-error"})})}(0,R.default)("body").on("click",'a[data-tco-focus="validation-input"]',function(r){r.preventDefault(),c.focus()})});d.addModule("x-validation-revoke",function(o,i,e){var n=i.revoke||!1;if(!n)return;n.on("click",function(){d.confirm({message:e.confirm,acceptClass:"tco-btn-nope",acceptBtn:e.accept,declineBtn:e.decline,accept:function(){n.removeAttr("href"),n.html(e.revoking),d.ajax({_x_nonce:w._x_nonce,action:"x_validation_revoke",done:t,fail:t})}})});function t(){var a=d.queryString.parse(d.queryString.extract(window.location.href));delete a["tco-key"],a.notice="validation-revoked",window.location.search=d.queryString.stringify(a)}});d.addModule("x-automatic-updates",function(o,i,e){var n=i["check-now"]||!1,t=i["latest-available"]||!1;!n||!t||(e.latest&&t.html(e.latest),n.find("a").on("click",function(a){a.preventDefault(),n.html(e.checking),d.ajax({_x_nonce:w._x_nonce,action:"x_update_check",done:function(c){c.latest&&c.latest!==e.latest?(n.html(e.completeNew),t.html(c.latest)):n.html(e.complete)},fail:function(c){console.warn("X Update Check Error",c),n.html(e.error)}})}))});d.addModule("x-theme-options-manager",function(o,i,e){let n=i["import-form"]||!1,t=i["import-file"]||!1,a=i.export||!1,c=i.reset||!1;if(!n||!t||!a||!c)return;a.on("click",function(){o.tcoShowMessage(e.export,1500)}),f()?(n.on("drag dragstart dragend dragover dragenter dragleave drop",function(s){s.preventDefault(),s.stopPropagation()}).on("dragover dragenter",function(){n.addClass("tco-dragover")}).on("dragleave dragend drop",function(){n.removeClass("tco-dragover")}).on("drop",function(s){u(s.originalEvent.dataTransfer.files[0])}),t[0].onchange=function(){u(this.files[0])}):o.tcoShowMessage(e.useModernBrowser,2500);function u(s){d.confirm({message:e.importConfirm,acceptClass:"tco-btn-nope",acceptBtn:e.yep,declineBtn:e.nope,accept:function(){l(s)},decline:function(){x()}})}function l(s){o.tcoShowMessage(e.importBegin);var g=new FileReader;g.onload=function(){try{JSON.parse(g.result),v(g.result)}catch(r){o.tcoShowMessage(e.importError,2500),console.warn("X Customizer Manager Import Error",r)}};try{g.readAsText(s)}catch(r){o.tcoShowMessage(e.importError,2500),console.warn("X Customizer Manager Import Error",r)}}function v(s){d.ajax({_x_nonce:w._x_nonce,action:"x_theme_options_manager_import",import:s,done:function(){o.tcoShowMessage(e.importSuccess,2500),x()},fail:function(g){console.warn("X Customizer Import Error",g),o.tcoShowMessage(e.importError,2500),x()}})}function x(){t[0].value="",t[0].type="",t[0].type="file"}c.on("click",function(s){s.preventDefault(),d.confirm({message:e.resetConfirm,acceptClass:"tco-btn-nope",acceptBtn:e.yep,declineBtn:e.nope,accept:function(){o.tcoShowMessage(e.resetBegin),d.ajax({_x_nonce:w._x_nonce,action:"x_theme_options_manager_reset",done:function(){o.tcoShowMessage(e.resetSuccess,2500)},fail:function(g){console.warn("X Customizer Reset Error",g),o.tcoShowMessage(e.resetError,2500)}})}})});function f(){var s=document.createElement("div");return("draggable"in s||"ondragstart"in s&&"ondrop"in s)&&"FormData"in window&&"FileReader"in window}});d.addModule("x-extension",function(o,i,e){let n=i.manage||!1,t=o.attr("id");if(!n||!t)return;let a=e.extensions.find(f=>t===f.slug)||e.approvedPlugins.find(f=>t===f.slug);if(!a)return;if(a.activated){n.html(e.activated).addClass("tco-btn-yep tco-btn-disabled");return}else a.installed&&n.html(e.activate);window._xExtensionQueue||(window._xExtensionQueue={running:!1,queue:[]}),n.on("click",c);function c(){n.prop("disabled",!0);let f="install";a.installed&&(f="activate"),a.activated&&(f="deactivate"),window._xExtensionQueue.running?(o.tcoShowMessage(l[f]),window._xExtensionQueue.queue.unshift(v[f])):(v[f](),window._xExtensionQueue.running=!0)}function u(){if(0<window._xExtensionQueue.queue.length){var f=window._xExtensionQueue.queue.pop();f()}else window._xExtensionQueue.running=!1}let l={install:e["waiting-to-install"],activate:e["waiting-to-activate"]},v={install(){o.tcoShowMessage(e.installing);let f=()=>{n.html(e.activate),o.tcoRemoveMessage(!1,function(){o.removeClass("tco-extension-not-installed").addClass("tco-extension-installed")}),a.installed=!0,u()};d.ajax({_x_nonce:w._x_nonce,action:"x_extensions_install",slug:a.slug,done:f,fail:x})},activate(){o.tcoShowMessage(e.activating);let f=s=>{n.html(e.installed),o.tcoRemoveMessage(!1,function(){n.html(e.activated).addClass("tco-btn-yep tco-btn-disabled")}),a.activated=!0,u()};d.ajax({_x_nonce:w._x_nonce,action:"x_extensions_activate",plugin:a.plugin,done:f,fail:x})}};function x(f){var s=f.message?f.message:f;s.responseText&&(s=s.responseText),o.tcoShowErrorMessage(e.error,s),u()}});})();
